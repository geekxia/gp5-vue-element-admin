(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1845bb08"],{"14ba":function(e,t,i){"use strict";i("aab2")},"1c3d":function(e,t,i){"use strict";i("9236")},"2af9":function(e,t,i){"use strict";i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return $})),i.d(t,"b",(function(){return z}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];i("513c");Math.easeInOutQuad=function(e,t,i,n){return e/=n/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(e,t,i){var n=l(),r=e-n,u=20,c=0;t="undefined"===typeof t?500:t;var s=function e(){c+=u;var l=Math.easeInOutQuad(c,n,r,t);o(l),c<t?a(e):i&&"function"===typeof i&&i()};s()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&u(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize,flag:!0}),this.autoScroll&&u(0,800)}}},s=c,m=(i("14ba"),i("5d22")),p=Object(m["a"])(s,n,r,!1,null,"7df84567",null),d=p.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"qf-good-cate-select"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"145px"},attrs:{placeholder:"品类筛选",clearable:""},model:{value:e.c,callback:function(t){e.c=t},expression:"c"}},e._l(e.cates,(function(e){return i("el-option",{key:e._id,attrs:{label:e.cate_zh,value:e.cate}})})),1)],1)},g=[],h=i("6abc"),b=i("52c1"),v={props:{value:{type:String,default:""}},data:function(){return{cate:""}},created:function(){this.$store.dispatch("good/getAllCates")},computed:Object(h["a"])(Object(h["a"])({},Object(b["b"])(["cates"])),{},{c:{get:function(){return this.cate||this.value},set:function(e){this.cate=e}}}),watch:{cate:function(){this.$emit("input",this.cate),this.$emit("change")}}},y=v,F=(i("1c3d"),Object(m["a"])(y,f,g,!1,null,"792d2f93",null)),$=F.exports,k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"qf-img-upload"},[i("el-upload",{attrs:{action:e.$config.imgAction,name:e.name,"file-list":e.list,"list-type":"picture","on-success":e.imgSuccess,"before-upload":e.imgCheck,"on-change":e.imgChange,"on-remove":e.imgRemove,multiple:e.multiple,limit:e.limit},scopedSlots:e._u([{key:"tip",fn:function(){return[e._t("tip")]},proxy:!0}],null,!0)},[i("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("图片上传")])],1)],1)},x=[],S={props:{name:{type:String,default:"file"},multiple:{type:Boolean,default:!1},limit:{type:Number,default:9},value:{type:String,default:""}},data:function(){return{fileList:[]}},computed:{list:function(){return this.fileList.length>0?this.fileList:this.value?[{name:"",url:this.$config.imgBase+this.value}]:[]}},methods:{imgCheck:function(e){if(console.log("file",e),e.size>2097152)return this.$message.error("只支持2M以内的图片"),this.$emit("error"),!1},imgChange:function(e){console.log("file",e),this.fileList=[e]},imgRemove:function(e){this.$emit("input","")},imgSuccess:function(e,t,i){e&&e.data&&e.data.img&&this.$emit("input",e.data.img)}}},w=S,C=Object(m["a"])(w,k,x,!1,null,"1598f095",null),z=C.exports},9236:function(e,t,i){},a8c8:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"50%","min-width":"500px"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[i("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),i("el-form-item",{attrs:{label:"商品描述",prop:"desc"}},[i("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),i("el-form-item",{attrs:{label:"是否热销",prop:"hot"}},[i("el-switch",{model:{value:e.ruleForm.hot,callback:function(t){e.$set(e.ruleForm,"hot",t)},expression:"ruleForm.hot"}})],1),i("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[i("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),i("el-form-item",{attrs:{label:"商品品类",prop:"cate"}},[i("GoodCateSelect",{model:{value:e.ruleForm.cate,callback:function(t){e.$set(e.ruleForm,"cate",t)},expression:"ruleForm.cate"}})],1),i("el-form-item",{attrs:{label:"商品排名",prop:"rank"}},[i("el-input-number",{attrs:{min:0},model:{value:e.ruleForm.rank,callback:function(t){e.$set(e.ruleForm,"rank",t)},expression:"ruleForm.rank"}})],1),i("el-form-item",{attrs:{label:"商品图片",prop:"img"}},[i("ImgUpload",{attrs:{name:"xxx"},scopedSlots:e._u([{key:"tip",fn:function(){return[i("div",[e._v("商品图片限制2M以内")])]},proxy:!0}]),model:{value:e.ruleForm.img,callback:function(t){e.$set(e.ruleForm,"img",t)},expression:"ruleForm.img"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},domProps:{textContent:e._s(e.id?"立即修改":"立即新增")},on:{click:function(t){return e.submit("ruleForm")}}})],1)],1)],1)},r=[],a=i("2af9"),o={name:"GoodForm",components:{GoodCateSelect:a["a"],ImgUpload:a["b"]},data:function(){return{ruleForm:{name:"",desc:"",hot:!1,price:0,cate:"",rank:0,img:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"商品名字需要3~5个字",trigger:"blur"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"},{min:10,max:20,message:"商品描述10~20字",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],cate:[{required:!0,message:"请输选择品类",trigger:"change"}],img:[{required:!0,message:"请上传图片",trigger:"blur"}]}}},computed:{id:function(){return this.$route.params.id}},created:function(){var e=this,t=this.$route.params.id;t&&this.$api.fetchGoodDetail({id:t}).then((function(t){console.log("商品详情",t),e.ruleForm=t}))},methods:{submit:function(){var e=this;this.id&&(this.ruleForm.id=this.id),this.$api.fetchGoodAddOrEdit(this.ruleForm).then((function(t){e.$notify({title:"成功",message:e.id?"商品修改成功":"商品新增成功",type:"success",duration:2e3,onClose:function(){e.$router.back()}})}))}}},l=o,u=i("5d22"),c=Object(u["a"])(l,n,r,!1,null,"bc6d4762",null);t["default"]=c.exports},aab2:function(e,t,i){}}]);