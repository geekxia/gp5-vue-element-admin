(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c796e"],{"50eb":function(t,e,l){"use strict";l.r(e);var r=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.showModal}},[t._v("新增用户")])],1),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[l("el-table-column",{attrs:{prop:"username",label:"用户名",width:"180"}}),l("el-table-column",{attrs:{prop:"role_name",label:"用户名称",width:"180"}}),l("el-table-column",{attrs:{prop:"status",label:"用户状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{domProps:{textContent:t._s("1"===e.row.status?"正常":"禁用")}})]}}])})],1),l("el-dialog",{attrs:{title:"用户新增",visible:t.show},on:{"update:visible":function(e){t.show=e}}},[l("el-form",{attrs:{model:t.form,rules:t.rules}},[l("el-form-item",{attrs:{label:"用户名","label-width":"80"}},[l("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),l("el-form-item",{attrs:{label:"角色","label-width":"80"}},[l("el-select",{model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},t._l(t.roleArr,(function(t){return l("el-option",{key:t._id,attrs:{label:t.roleName,value:t.role}})})),1)],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},o=[],s={data:function(){return{roleArr:[],tableData:[],show:!1,form:{username:"",role:""},rules:{username:[{required:!0,message:"请添加写用户名",trigger:"blur"},{pattern:/^[a-zA-Z][a-zA-Z0-9]/,message:"用户名不合法",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}]}}},created:function(){this.init()},methods:{init:function(){var t=this;this.$api.fetchListUser({}).then((function(e){console.log("用户列表",e),t.tableData=e.list}))},showModal:function(){var t=this;this.show=!0,0===this.roleArr.length&&this.$api.fetchAllRoles({}).then((function(e){t.roleArr=e.list}))},submit:function(){var t=this;console.log("form",this.form),this.$api.fetchAddUser(this.form).then((function(){t.show=!1,t.init()}))}}},a=s,i=l("5d22"),n=Object(i["a"])(a,r,o,!1,null,"9207f59c",null);e["default"]=n.exports}}]);